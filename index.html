<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Generator Pro</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        .gradient-border {
            background: linear-gradient(135deg, #6366f1, #8b5cf6, #a855f7);
            padding: 2px;
            border-radius: 12px;
        }
        .glass-effect {
            background: rgba(30, 30, 40, 0.8);
            backdrop-filter: blur(10px);
        }
        .glow {
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.3);
        }
        textarea::-webkit-scrollbar, .output-area::-webkit-scrollbar {
            width: 8px;
        }
        textarea::-webkit-scrollbar-track, .output-area::-webkit-scrollbar-track {
            background: #1e1e2e;
            border-radius: 4px;
        }
        textarea::-webkit-scrollbar-thumb, .output-area::-webkit-scrollbar-thumb {
            background: #6366f1;
            border-radius: 4px;
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .typing-animation::after {
            content: '|';
            animation: blink 1s infinite;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        .streaming-text {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-900 via-slate-900 to-gray-900 text-white">
    <!-- Header -->
    <header class="py-6 px-4 border-b border-gray-800">
        <div class="max-w-6xl mx-auto flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                </div>
                <h1 class="text-2xl font-bold bg-gradient-to-r from-violet-400 to-purple-400 bg-clip-text text-transparent">
                    Email Generator Pro
                </h1>
            </div>
            <div class="flex items-center gap-3">
                <span id="modelBadge" class="px-4 py-1.5 rounded-full bg-gradient-to-r from-emerald-500/20 to-green-500/20 text-emerald-400 text-sm font-medium border border-emerald-500/30">
                    ü§ñ Mistral AI
                </span>
                <span class="px-4 py-1.5 rounded-full bg-gradient-to-r from-violet-500/20 to-purple-500/20 text-violet-400 text-sm font-medium border border-violet-500/30">
                    ‚úì Auto Spell Check
                </span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto px-4 py-10">
        <div class="grid lg:grid-cols-2 gap-8">
            <!-- Left Panel - Options -->
            <div class="space-y-6">
                <div class="gradient-border glow">
                    <div class="glass-effect rounded-xl p-6 space-y-6">
                        <h2 class="text-xl font-semibold flex items-center gap-2">
                            <svg class="w-5 h-5 text-violet-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"/>
                            </svg>
                            Email Settings
                        </h2>

                        <!-- Mode Toggle -->
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-300">
                                üìù Mode
                            </label>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="setMode('write')" id="mode-write" class="mode-btn active px-4 py-3 rounded-lg border border-violet-500 bg-violet-500/20 transition-all font-medium flex items-center justify-center gap-2">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                    </svg>
                                    Write Email
                                </button>
                                <button onclick="setMode('reply')" id="mode-reply" class="mode-btn px-4 py-3 rounded-lg border border-gray-700 hover:border-violet-500 transition-all font-medium flex items-center justify-center gap-2">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"/>
                                    </svg>
                                    Reply
                                </button>
                            </div>
                        </div>

                        <!-- Received Email (Reply Mode) -->
                        <div id="receivedEmailSection" class="hidden space-y-2">
                            <label class="block text-sm font-medium text-gray-300">
                                üì© Received Email
                            </label>
                            <textarea id="receivedEmail" rows="5" placeholder="Paste the email you received here... The AI will analyze it and generate an appropriate response."
                                class="w-full px-4 py-3 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 outline-none transition-all placeholder-gray-500 resize-none"></textarea>
                            <p class="text-xs text-gray-500 flex items-center gap-1">
                                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                Paste the full email including subject and sender info if available
                            </p>
                        </div>

                        <!-- Reply Intent (Reply Mode) -->
                        <div id="replyIntentSection" class="hidden space-y-2">
                            <label class="block text-sm font-medium text-gray-300">
                                üí¨ Your Reply Intent
                            </label>
                            <select id="replyIntent" class="w-full px-4 py-3 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 outline-none transition-all cursor-pointer">
                                <option value="accept">‚úÖ Accept / Agree</option>
                                <option value="decline">‚ùå Decline / Refuse politely</option>
                                <option value="clarify">‚ùì Ask for clarification</option>
                                <option value="provide-info">üìã Provide requested information</option>
                                <option value="schedule">üìÖ Schedule / Confirm meeting</option>
                                <option value="thank">üôè Thank and acknowledge</option>
                                <option value="apologize">üòî Apologize</option>
                                <option value="follow-up">üîÑ Follow up</option>
                                <option value="negotiate">ü§ù Negotiate / Counter-offer</option>
                                <option value="custom">‚úçÔ∏è Custom response</option>
                            </select>
                        </div>

                        <!-- Email Type -->
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-300">
                                üìß Email Type
                            </label>
                            <select id="emailType" class="w-full px-4 py-3 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 outline-none transition-all cursor-pointer">
                                <option value="business">Business</option>
                                <option value="marketing">Marketing</option>
                                <option value="follow-up">Follow-up</option>
                                <option value="thank-you">Thank You</option>
                                <option value="apology">Apology</option>
                                <option value="request">Request</option>
                                <option value="introduction">Introduction</option>
                                <option value="invitation">Invitation</option>
                                <option value="newsletter">Newsletter</option>
                                <option value="cold-outreach">Cold Outreach</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <!-- Subject Line -->
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-300">
                                üìå Subject Line
                            </label>
                            <input type="text" id="subject" placeholder="Ex: Collaboration request..."
                                class="w-full px-4 py-3 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 outline-none transition-all placeholder-gray-500">
                        </div>

                        <!-- Sender Name & Gender -->
                        <div class="grid grid-cols-3 gap-4">
                            <div class="space-y-2 col-span-2">
                                <label class="block text-sm font-medium text-gray-300">
                                    üë§ Your Name
                                </label>
                                <input type="text" id="senderName" placeholder="John Doe"
                                    class="w-full px-4 py-3 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 outline-none transition-all placeholder-gray-500">
                            </div>
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-300">
                                    ‚öß Gender
                                </label>
                                <select id="senderGender" class="w-full px-4 py-3 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 outline-none transition-all cursor-pointer">
                                    <option value="male">‚ôÇ Male</option>
                                    <option value="female">‚ôÄ Female</option>
                                </select>
                            </div>
                        </div>

                        <!-- Recipient Name & Gender -->
                        <div class="grid grid-cols-3 gap-4">
                            <div class="space-y-2 col-span-2">
                                <label class="block text-sm font-medium text-gray-300">
                                    üë• Recipient Name
                                </label>
                                <input type="text" id="recipientName" placeholder="Jane Smith"
                                    class="w-full px-4 py-3 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 outline-none transition-all placeholder-gray-500">
                            </div>
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-300">
                                    ‚öß Gender
                                </label>
                                <select id="recipientGender" class="w-full px-4 py-3 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 outline-none transition-all cursor-pointer">
                                    <option value="male">‚ôÇ Male</option>
                                    <option value="female">‚ôÄ Female</option>
                                </select>
                            </div>
                        </div>

                        <!-- Tone -->
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-300">
                                üé≠ Tone
                            </label>
                            <select id="tone" class="w-full px-4 py-3 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 outline-none transition-all cursor-pointer">
                                <option value="professional">Professional</option>
                                <option value="formal">Formal</option>
                                <option value="friendly">Friendly</option>
                                <option value="casual">Casual</option>
                                <option value="persuasive">Persuasive</option>
                                <option value="enthusiastic">Enthusiastic</option>
                                <option value="empathetic">Empathetic</option>
                                <option value="urgent">Urgent</option>
                            </select>
                        </div>

                        <!-- Length -->
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-300">
                                üìè Length
                            </label>
                            <div class="grid grid-cols-3 gap-3">
                                <button onclick="setLength('short')" id="len-short" class="length-btn px-4 py-3 rounded-lg border border-gray-700 hover:border-violet-500 transition-all font-medium">
                                    Short
                                </button>
                                <button onclick="setLength('medium')" id="len-medium" class="length-btn active px-4 py-3 rounded-lg border border-violet-500 bg-violet-500/20 transition-all font-medium">
                                    Medium
                                </button>
                                <button onclick="setLength('long')" id="len-long" class="length-btn px-4 py-3 rounded-lg border border-gray-700 hover:border-violet-500 transition-all font-medium">
                                    Long
                                </button>
                            </div>
                        </div>

                        <!-- Language -->
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-300">
                                üåç Output Language
                            </label>
                            <select id="language" class="w-full px-4 py-3 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 outline-none transition-all cursor-pointer">
                                <option value="english">üá¨üáß English</option>
                                <option value="french">üá´üá∑ French</option>
                                <option value="spanish">üá™üá∏ Spanish</option>
                                <option value="german">üá©üá™ German</option>
                                <option value="italian">üáÆüáπ Italian</option>
                                <option value="portuguese">üáµüáπ Portuguese</option>
                                <option value="arabic">üá∏üá¶ Arabic</option>
                                <option value="chinese">üá®üá≥ Chinese</option>
                                <option value="japanese">üáØüáµ Japanese</option>
                                <option value="korean">üá∞üá∑ Korean</option>
                                <option value="russian">üá∑üá∫ Russian</option>
                                <option value="dutch">üá≥üá± Dutch</option>
                            </select>
                        </div>

                        <!-- Purpose -->
                        <div class="space-y-2">
                            <label id="purposeLabel" class="block text-sm font-medium text-gray-300">
                                ‚úçÔ∏è Describe your email
                            </label>
                            <textarea id="purpose" rows="4" placeholder="Describe the purpose of your email, key points to cover, context, what you want to achieve..."
                                class="w-full px-4 py-3 rounded-lg bg-gray-800/50 border border-gray-700 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 outline-none transition-all placeholder-gray-500 resize-none"></textarea>
                        </div>

                        <!-- Generate Button -->
                        <button onclick="generateEmail()" id="generateBtn"
                            class="w-full py-4 rounded-xl bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-500 hover:to-purple-500 font-semibold text-lg transition-all transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2">
                            <svg id="generateBtnIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                            </svg>
                            <span id="generateBtnText">Generate Email</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Output -->
            <div class="space-y-4">
                <div class="gradient-border glow h-full">
                    <div class="glass-effect rounded-xl p-6 h-full flex flex-col">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-xl font-semibold flex items-center gap-2">
                                <svg class="w-5 h-5 text-violet-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                </svg>
                                Generated Email
                            </h2>
                            <div class="flex gap-2">
                                <button onclick="toggleEditMode()" id="editBtn" class="hidden p-2 rounded-lg bg-gray-800 hover:bg-gray-700 transition-all" title="Edit">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                    </svg>
                                </button>
                                <button onclick="spellCheckEmail()" id="spellCheckBtn" class="hidden p-2 rounded-lg bg-gray-800 hover:bg-gray-700 transition-all" title="Spell Check & Improve">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                </button>
                                <button onclick="copyEmail()" id="copyBtn" class="p-2 rounded-lg bg-gray-800 hover:bg-gray-700 transition-all" title="Copy">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                    </svg>
                                </button>
                                <button onclick="clearOutput()" class="p-2 rounded-lg bg-gray-800 hover:bg-gray-700 transition-all" title="Clear">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- Output Area -->
                        <div id="output" class="output-area flex-1 min-h-[500px] p-4 rounded-lg bg-gray-900/50 border border-gray-700 overflow-y-auto">
                            <div class="h-full flex flex-col items-center justify-center text-gray-500">
                                <svg class="w-16 h-16 mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                </svg>
                                <p class="text-center">Your generated email will appear here</p>
                                <p class="text-sm text-gray-600 mt-2">Configure options and click "Generate"</p>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div id="actionButtons" class="hidden mt-4 grid grid-cols-3 gap-3">
                            <button onclick="toggleEditMode()" id="editActionBtn" class="py-3 px-4 rounded-xl bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 font-semibold transition-all transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                </svg>
                                Edit
                            </button>
                            <button onclick="regenerateEmail()" class="py-3 px-4 rounded-xl bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 font-semibold transition-all transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                </svg>
                                Regenerate
                            </button>
                            <button onclick="writeNewEmail()" class="py-3 px-4 rounded-xl bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-500 hover:to-green-500 font-semibold transition-all transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                                </svg>
                                New Email
                            </button>
                        </div>

                        <!-- Edit Mode Buttons -->
                        <div id="editModeButtons" class="hidden mt-4 grid grid-cols-2 gap-3">
                            <button onclick="saveEdit()" class="py-3 px-4 rounded-xl bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-500 hover:to-green-500 font-semibold transition-all transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                </svg>
                                Save Changes
                            </button>
                            <button onclick="cancelEdit()" class="py-3 px-4 rounded-xl bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-500 hover:to-gray-600 font-semibold transition-all transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                                </svg>
                                Cancel
                            </button>
                        </div>

                        <!-- Spell Check Button -->
                        <div id="spellCheckContainer" class="hidden mt-3">
                            <button onclick="spellCheckEmail()" id="spellCheckActionBtn" class="w-full py-3 px-4 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 font-semibold transition-all transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                ‚ú® Auto Spell Check & Polish
                            </button>
                        </div>

                        <!-- Stats -->
                        <div id="stats" class="hidden mt-4 pt-4 border-t border-gray-700 flex items-center justify-between text-sm text-gray-400">
                            <span id="wordCount">0 words</span>
                            <span id="charCount">0 characters</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="mt-10 text-center">
            <p class="text-gray-500 text-sm">
                <span id="counter" class="text-violet-400 font-semibold">0</span> emails generated this session
            </p>
            <p class="text-gray-600 text-xs mt-2">Powered by Mistral AI via Pollinations ‚Ä¢ Free & Intelligent Email Writing</p>
        </div>
    </main>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-4 right-4 px-6 py-3 rounded-xl bg-emerald-500 text-white font-medium transform translate-y-20 opacity-0 transition-all duration-300">
        Email copied!
    </div>

    <script>
        let selectedLength = 'medium';
        let selectedMode = 'write';
        let emailCounter = 0;
        let lastEmailConfig = null;
        let isGenerating = false;
        let isEditMode = false;
        let currentEmailText = '';
        let lastGeneratedLanguage = 'english';

        function setMode(mode) {
            selectedMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active', 'border-violet-500', 'bg-violet-500/20');
                btn.classList.add('border-gray-700');
            });
            const activeBtn = document.getElementById(`mode-${mode}`);
            activeBtn.classList.add('active', 'border-violet-500', 'bg-violet-500/20');
            activeBtn.classList.remove('border-gray-700');

            const receivedEmailSection = document.getElementById('receivedEmailSection');
            const replyIntentSection = document.getElementById('replyIntentSection');
            const purposeLabel = document.getElementById('purposeLabel');
            const purposeField = document.getElementById('purpose');
            const generateBtnText = document.getElementById('generateBtnText');
            const generateBtnIcon = document.getElementById('generateBtnIcon');

            if (mode === 'reply') {
                receivedEmailSection.classList.remove('hidden');
                replyIntentSection.classList.remove('hidden');
                purposeLabel.innerHTML = '‚úçÔ∏è Additional instructions (optional)';
                purposeField.placeholder = 'Add any specific points you want to include in your reply, additional context, or special instructions...';
                purposeField.rows = 3;
                generateBtnText.textContent = 'Generate Reply';
                generateBtnIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"/>';
            } else {
                receivedEmailSection.classList.add('hidden');
                replyIntentSection.classList.add('hidden');
                purposeLabel.innerHTML = '‚úçÔ∏è Describe your email';
                purposeField.placeholder = 'Describe the purpose of your email, key points to cover, context, what you want to achieve...';
                purposeField.rows = 4;
                generateBtnText.textContent = 'Generate Email';
                generateBtnIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>';
            }
        }

        function setLength(length) {
            selectedLength = length;
            document.querySelectorAll('.length-btn').forEach(btn => {
                btn.classList.remove('active', 'border-violet-500', 'bg-violet-500/20');
                btn.classList.add('border-gray-700');
            });
            const activeBtn = document.getElementById(`len-${length}`);
            activeBtn.classList.add('active', 'border-violet-500', 'bg-violet-500/20');
            activeBtn.classList.remove('border-gray-700');
        }

        function buildPrompt(config) {
            const { emailType, subject, senderName, senderGender, recipientName, recipientGender, tone, length, language, purpose } = config;
            
            const lengthGuide = {
                short: '2-3 short paragraphs, concise and to the point (about 50-100 words)',
                medium: '3-4 paragraphs, balanced detail (about 150-200 words)',
                long: '5-6 paragraphs, comprehensive and detailed (about 300-400 words)'
            };

            const languageNames = {
                english: 'English', french: 'French', spanish: 'Spanish', german: 'German',
                italian: 'Italian', portuguese: 'Portuguese', arabic: 'Arabic', chinese: 'Chinese (Simplified)',
                japanese: 'Japanese', korean: 'Korean', russian: 'Russian', dutch: 'Dutch'
            };

        function buildReplyPrompt(config) {
            const { receivedEmail, replyIntent, senderName, senderGender, recipientName, recipientGender, tone, length, language, additionalInstructions } = config;
            
            const lengthGuide = {
                short: '2-3 short paragraphs, concise and to the point (about 50-100 words)',
                medium: '3-4 paragraphs, balanced detail (about 150-200 words)',
                long: '5-6 paragraphs, comprehensive and detailed (about 300-400 words)'
            };

            const languageNames = {
                english: 'English', french: 'French', spanish: 'Spanish', german: 'German',
                italian: 'Italian', portuguese: 'Portuguese', arabic: 'Arabic', chinese: 'Chinese (Simplified)',
                japanese: 'Japanese', korean: 'Korean', russian: 'Russian', dutch: 'Dutch'
            };

            const intentDescriptions = {
                'accept': 'Accept the proposal, agree to the request, or confirm positively',
                'decline': 'Politely decline or refuse the request while maintaining a good relationship',
                'clarify': 'Ask for more information or clarification about specific points',
                'provide-info': 'Provide the requested information or answer their questions',
                'schedule': 'Confirm, propose, or reschedule a meeting or appointment',
                'thank': 'Express gratitude and acknowledge their message',
                'apologize': 'Apologize for any issue mentioned and offer resolution if applicable',
                'follow-up': 'Follow up on a previous discussion or pending matter',
                'negotiate': 'Counter-offer or negotiate terms mentioned in the email',
                'custom': 'Respond based on the additional instructions provided'
            };

            return `You are an expert email writer. Your task is to write a professional REPLY to the following email:

**===== RECEIVED EMAIL =====**
${receivedEmail}
**===== END OF RECEIVED EMAIL =====**

**Reply Specifications:**
**Reply Intent:** ${intentDescriptions[replyIntent]}
**Sender (You):** ${senderName || 'The sender'} (${senderGender})
**Recipient (Original sender):** ${recipientName || 'The recipient'} (${recipientGender})
**Tone:** ${tone}
**Length:** ${lengthGuide[length]}
**Language:** ${languageNames[language]} - Write the ENTIRE reply in ${languageNames[language]}

${additionalInstructions ? `**Additional Instructions:**\n${additionalInstructions}\n` : ''}

**Instructions:**
1. Write the reply entirely in ${languageNames[language]}
2. Acknowledge the received email appropriately
3. Address the main points from the original email
4. Use appropriate gender-specific grammar and titles
5. Match the ${tone} tone throughout
6. Include appropriate greeting and closing based on the language and tone
7. Start with "Subject: Re: [original subject or appropriate reply subject]" followed by the email body
8. Sign with the sender's name at the end
9. Make the reply natural, coherent, and well-structured
10. Ensure ideas flow logically and connect smoothly
11. Do NOT include any explanations or meta-text, just the reply email itself

Write the reply email now:`;
        }

            return `You are an expert email writer. Write a professional email based on the following specifications:

**Email Type:** ${emailType}
**Subject Line:** ${subject || 'Create an appropriate subject'}
**Sender:** ${senderName || 'The sender'} (${senderGender})
**Recipient:** ${recipientName || 'The recipient'} (${recipientGender})
**Tone:** ${tone}
**Length:** ${lengthGuide[length]}
**Language:** ${languageNames[language]} - Write the ENTIRE email in ${languageNames[language]}

**Purpose/Context:**
${purpose}

**Instructions:**
1. Write the email entirely in ${languageNames[language]}
2. Use appropriate gender-specific grammar and titles for both sender and recipient based on their genders
3. Match the ${tone} tone throughout
4. Include appropriate greeting and closing based on the language and tone
5. Start with "Subject: [subject line]" followed by the email body
6. Sign with the sender's name at the end
7. Make the email natural, engaging, and well-structured
8. Do NOT include any explanations or meta-text, just the email itself

Write the email now:`;
        }

        async function callAI(prompt) {
            const response = await fetch('https://text.pollinations.ai/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    messages: [
                        {
                            role: 'system',
                            content: 'You are an expert professional email writer. You write clear, effective, coherent, and well-structured emails in any language. You ensure logical flow between ideas, smooth transitions between paragraphs, and consistency in tone throughout. You follow instructions precisely and adapt your writing style to the requested tone. You never add explanations or meta-commentary - only the email itself.'
                        },
                        {
                            role: 'user',
                            content: prompt
                        }
                    ],
                    model: 'mistral',
                    seed: Math.floor(Math.random() * 10000)
                })
            });

            if (!response.ok) {
                throw new Error('AI service temporarily unavailable. Please try again.');
            }

            const text = await response.text();
            return text;
        }

        async function generateEmail() {
            if (isGenerating) return;

            let config, prompt;

            if (selectedMode === 'reply') {
                // Reply mode
                const receivedEmail = document.getElementById('receivedEmail').value.trim();
                if (!receivedEmail) {
                    showToast('Please paste the received email', 'error');
                    return;
                }

                config = {
                    mode: 'reply',
                    receivedEmail: receivedEmail,
                    replyIntent: document.getElementById('replyIntent').value,
                    senderName: document.getElementById('senderName').value,
                    senderGender: document.getElementById('senderGender').value,
                    recipientName: document.getElementById('recipientName').value,
                    recipientGender: document.getElementById('recipientGender').value,
                    tone: document.getElementById('tone').value,
                    language: document.getElementById('language').value,
                    additionalInstructions: document.getElementById('purpose').value.trim(),
                    length: selectedLength
                };
                prompt = buildReplyPrompt(config);
            } else {
                // Compose mode
                const purpose = document.getElementById('purpose').value.trim();
                if (!purpose) {
                    showToast('Please describe your email', 'error');
                    return;
                }

                config = {
                    mode: 'write',
                    emailType: document.getElementById('emailType').value,
                    subject: document.getElementById('subject').value,
                    senderName: document.getElementById('senderName').value,
                    senderGender: document.getElementById('senderGender').value,
                    recipientName: document.getElementById('recipientName').value,
                    recipientGender: document.getElementById('recipientGender').value,
                    tone: document.getElementById('tone').value,
                    language: document.getElementById('language').value,
                    purpose: purpose,
                    length: selectedLength
                };
                prompt = buildPrompt(config);
            }

            lastEmailConfig = config;
            isGenerating = true;

            const btn = document.getElementById('generateBtn');
            const loadingText = selectedMode === 'reply' ? 'ü§ñ AI is writing reply...' : 'ü§ñ AI is writing...';
            btn.innerHTML = `<span class="pulse-animation">${loadingText}</span>`;
            btn.disabled = true;

            const output = document.getElementById('output');
            const loadingMessage = selectedMode === 'reply' ? 'Generating your reply with AI...' : 'Generating your email with AI...';
            output.innerHTML = `
                <div class="flex items-center justify-center h-full">
                    <div class="text-center">
                        <div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-violet-500 border-t-transparent mb-4"></div>
                        <p class="text-gray-400">${loadingMessage}</p>
                        <p class="text-xs text-gray-600 mt-2">Using Mistral AI</p>
                    </div>
                </div>`;

            try {
                const email = await callAI(prompt);
                
                lastGeneratedLanguage = config.language;
                displayEmail(email);
                emailCounter++;
                document.getElementById('counter').textContent = emailCounter;
                document.getElementById('actionButtons').classList.remove('hidden');
                const successMsg = selectedMode === 'reply' ? 'Reply generated successfully!' : 'Email generated successfully!';
                showToast(successMsg, 'success');
            } catch (error) {
                console.error('Error:', error);
                output.innerHTML = `
                    <div class="flex items-center justify-center h-full">
                        <div class="text-center text-red-400">
                            <svg class="w-12 h-12 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                            </svg>
                            <p class="font-medium">Error generating ${selectedMode === 'reply' ? 'reply' : 'email'}</p>
                            <p class="text-sm text-gray-500 mt-2">${error.message}</p>
                            <p class="text-xs text-gray-600 mt-4">Please try again</p>
                        </div>
                    </div>`;
                showToast(`Failed to generate ${selectedMode === 'reply' ? 'reply' : 'email'}`, 'error');
            } finally {
                const btnText = selectedMode === 'reply' ? 'Generate Reply' : 'Generate Email';
                const btnIcon = selectedMode === 'reply' 
                    ? '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"/>'
                    : '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>';
                btn.innerHTML = `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">${btnIcon}</svg> ${btnText}`;
                btn.disabled = false;
                isGenerating = false;
            }
        }

        async function regenerateEmail() {
            if (!lastEmailConfig) {
                showToast('No email to regenerate', 'error');
                return;
            }

            if (isGenerating) return;
            isGenerating = true;

            const btn = document.getElementById('generateBtn');
            btn.innerHTML = '<span class="pulse-animation">üîÑ Regenerating...</span>';
            btn.disabled = true;

            const isReplyMode = lastEmailConfig.mode === 'reply';
            const output = document.getElementById('output');
            output.innerHTML = `
                <div class="flex items-center justify-center h-full">
                    <div class="text-center">
                        <div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-amber-500 border-t-transparent mb-4"></div>
                        <p class="text-gray-400">Regenerating your ${isReplyMode ? 'reply' : 'email'}...</p>
                    </div>
                </div>`;

            try {
                let basePrompt = isReplyMode ? buildReplyPrompt(lastEmailConfig) : buildPrompt(lastEmailConfig);
                const prompt = basePrompt + '\n\nIMPORTANT: Create a completely different version with varied wording, different sentence structures, and alternative phrasing while keeping the same intent and message.';
                const email = await callAI(prompt);
                
                lastGeneratedLanguage = lastEmailConfig.language;
                displayEmail(email);
                emailCounter++;
                document.getElementById('counter').textContent = emailCounter;
                showToast(`${isReplyMode ? 'Reply' : 'Email'} regenerated!`, 'success');
            } catch (error) {
                console.error('Error:', error);
                showToast('Failed to regenerate: ' + error.message, 'error');
            } finally {
                const btnText = selectedMode === 'reply' ? 'Generate Reply' : 'Generate Email';
                const btnIcon = selectedMode === 'reply' 
                    ? '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"/>'
                    : '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>';
                btn.innerHTML = `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">${btnIcon}</svg> ${btnText}`;
                btn.disabled = false;
                isGenerating = false;
            }
        }

        function writeNewEmail() {
            document.getElementById('emailType').value = 'business';
            document.getElementById('subject').value = '';
            document.getElementById('senderName').value = '';
            document.getElementById('senderGender').value = 'male';
            document.getElementById('recipientName').value = '';
            document.getElementById('recipientGender').value = 'male';
            document.getElementById('tone').value = 'professional';
            document.getElementById('language').value = 'english';
            document.getElementById('purpose').value = '';
            document.getElementById('receivedEmail').value = '';
            document.getElementById('replyIntent').value = 'accept';
            setLength('medium');
            setMode('write');
            clearOutput();
            lastEmailConfig = null;
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
            showToast('Ready for a new email!', 'success');
        }

        function displayEmail(email) {
            const output = document.getElementById('output');
            const stats = document.getElementById('stats');
            
            // Store the current email text
            currentEmailText = email;
            
            // Format the email with proper styling
            let formattedEmail = email
                .replace(/^Subject:/m, '<strong>Subject:</strong>')
                .replace(/^Objet:/m, '<strong>Objet:</strong>')
                .replace(/^Asunto:/m, '<strong>Asunto:</strong>')
                .replace(/^Betreff:/m, '<strong>Betreff:</strong>')
                .replace(/^Oggetto:/m, '<strong>Oggetto:</strong>')
                .replace(/^Assunto:/m, '<strong>Assunto:</strong>')
                .replace(/^‰∏ªÈ¢ò:/m, '<strong>‰∏ªÈ¢ò:</strong>')
                .replace(/^‰ª∂Âêç:/m, '<strong>‰ª∂Âêç:</strong>')
                .replace(/^Ï†úÎ™©:/m, '<strong>Ï†úÎ™©:</strong>')
                .replace(/^–¢–µ–º–∞:/m, '<strong>–¢–µ–º–∞:</strong>')
                .replace(/^Onderwerp:/m, '<strong>Onderwerp:</strong>');
            
            output.innerHTML = `<div id="emailContent" class="whitespace-pre-wrap text-gray-200 leading-relaxed streaming-text">${formattedEmail}</div>`;
            
            updateStats(email);
            stats.classList.remove('hidden');
            
            // Show edit and spell check buttons
            document.getElementById('editBtn').classList.remove('hidden');
            document.getElementById('spellCheckBtn').classList.remove('hidden');
            document.getElementById('spellCheckContainer').classList.remove('hidden');
        }
        
        function updateStats(text) {
            const words = text.trim().split(/\s+/).length;
            const chars = text.length;
            document.getElementById('wordCount').textContent = `${words} words`;
            document.getElementById('charCount').textContent = `${chars} characters`;
        }
        
        function toggleEditMode() {
            const output = document.getElementById('output');
            const actionButtons = document.getElementById('actionButtons');
            const editModeButtons = document.getElementById('editModeButtons');
            const spellCheckContainer = document.getElementById('spellCheckContainer');
            
            if (!isEditMode) {
                // Enter edit mode
                isEditMode = true;
                const currentContent = currentEmailText;
                
                output.innerHTML = `
                    <textarea id="emailEditor" 
                        class="w-full h-full min-h-[450px] p-4 bg-gray-800/50 border border-violet-500 rounded-lg text-gray-200 leading-relaxed resize-none outline-none focus:ring-2 focus:ring-violet-500/50"
                        spellcheck="true">${currentContent}</textarea>
                    <p class="text-xs text-gray-500 mt-2 flex items-center gap-1">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Edit mode - Make your changes and click "Save Changes"
                    </p>`;
                
                actionButtons.classList.add('hidden');
                editModeButtons.classList.remove('hidden');
                spellCheckContainer.classList.add('hidden');
                
                // Focus on the textarea
                document.getElementById('emailEditor').focus();
                
                showToast('Edit mode enabled', 'success');
            }
        }
        
        function saveEdit() {
            const editor = document.getElementById('emailEditor');
            if (editor) {
                currentEmailText = editor.value;
                displayEmail(currentEmailText);
                exitEditMode();
                showToast('Changes saved!', 'success');
            }
        }
        
        function cancelEdit() {
            displayEmail(currentEmailText);
            exitEditMode();
            showToast('Edit cancelled', 'error');
        }
        
        function exitEditMode() {
            isEditMode = false;
            document.getElementById('actionButtons').classList.remove('hidden');
            document.getElementById('editModeButtons').classList.add('hidden');
            document.getElementById('spellCheckContainer').classList.remove('hidden');
        }
        
        async function spellCheckEmail() {
            if (isGenerating || !currentEmailText) return;
            
            isGenerating = true;
            const output = document.getElementById('output');
            const spellCheckBtn = document.getElementById('spellCheckActionBtn');
            
            spellCheckBtn.innerHTML = '<span class="pulse-animation">‚ú® Checking & Polishing...</span>';
            spellCheckBtn.disabled = true;
            
            const previousContent = output.innerHTML;
            output.innerHTML = `
                <div class="flex items-center justify-center h-full">
                    <div class="text-center">
                        <div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent mb-4"></div>
                        <p class="text-gray-400">Checking spelling & polishing...</p>
                        <p class="text-xs text-gray-600 mt-2">Making your email professional</p>
                    </div>
                </div>`;
            
            try {
                const languageNames = {
                    english: 'English', french: 'French', spanish: 'Spanish', german: 'German',
                    italian: 'Italian', portuguese: 'Portuguese', arabic: 'Arabic', chinese: 'Chinese',
                    japanese: 'Japanese', korean: 'Korean', russian: 'Russian', dutch: 'Dutch'
                };
                
                const spellCheckPrompt = `You are a professional proofreader and editor. Your task is to:

1. Fix ALL spelling errors
2. Fix ALL grammar errors  
3. Improve punctuation
4. Ensure proper capitalization
5. Improve sentence flow and coherence
6. Make the text more professional and polished
7. Keep the same meaning and intent
8. Keep the same language (${languageNames[lastGeneratedLanguage]})
9. Keep the same structure (subject line, greeting, body, closing, signature)

Here is the email to proofread and polish:

${currentEmailText}

Return ONLY the corrected and polished email, nothing else. No explanations, no comments, just the improved email.`;

                const response = await fetch('https://text.pollinations.ai/', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        messages: [
                            { role: 'system', content: 'You are an expert proofreader and editor. You fix spelling, grammar, and improve text clarity while maintaining the original meaning and language. You return only the corrected text without any explanations.' },
                            { role: 'user', content: spellCheckPrompt }
                        ],
                        model: 'mistral',
                        seed: Math.floor(Math.random() * 10000)
                    })
                });
                
                if (!response.ok) throw new Error('Spell check service unavailable');
                
                const correctedEmail = await response.text();
                currentEmailText = correctedEmail;
                displayEmail(correctedEmail);
                showToast('‚ú® Email polished & spell-checked!', 'success');
                
            } catch (error) {
                console.error('Spell check error:', error);
                output.innerHTML = previousContent;
                showToast('Spell check failed: ' + error.message, 'error');
            } finally {
                spellCheckBtn.innerHTML = `
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    ‚ú® Auto Spell Check & Polish`;
                spellCheckBtn.disabled = false;
                isGenerating = false;
            }
        }

        function copyEmail() {
            const output = document.getElementById('output');
            const text = output.innerText;
            
            if (text && !text.includes('Your generated email will appear here')) {
                navigator.clipboard.writeText(text).then(() => {
                    showToast('Email copied to clipboard!', 'success');
                });
            }
        }

        function clearOutput() {
            document.getElementById('output').innerHTML = `
                <div class="h-full flex flex-col items-center justify-center text-gray-500">
                    <svg class="w-16 h-16 mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                    <p class="text-center">Your generated email will appear here</p>
                    <p class="text-sm text-gray-600 mt-2">Configure options and click "Generate"</p>
                </div>`;
            document.getElementById('stats').classList.add('hidden');
            document.getElementById('actionButtons').classList.add('hidden');
            document.getElementById('editModeButtons').classList.add('hidden');
            document.getElementById('spellCheckContainer').classList.add('hidden');
            document.getElementById('editBtn').classList.add('hidden');
            document.getElementById('spellCheckBtn').classList.add('hidden');
            currentEmailText = '';
            isEditMode = false;
        }

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `fixed bottom-4 right-4 px-6 py-3 rounded-xl font-medium transition-all duration-300 ${type === 'error' ? 'bg-red-500' : 'bg-emerald-500'} text-white`;
            toast.style.transform = 'translateY(0)';
            toast.style.opacity = '1';
            
            setTimeout(() => {
                toast.style.transform = 'translateY(20px)';
                toast.style.opacity = '0';
            }, 3000);
        }
    </script>
</body>
</html>
